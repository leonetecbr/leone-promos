let staticCacheName="v2.3.4";self.addEventListener("install",(function(t){t.waitUntil(caches.open(staticCacheName).then((function(t){return t.addAll(["css/app.min.css","css/bootstrap.min.css.map","js/app.min.js","js/bootstrap.bundle.min.js","js/bootstrap.bundle.min.js.map","js/jquery.min.js","js/jquery.min.map","css/bootstrap.min.css","img/logo.png","json/manifest.json"])})))})),this.addEventListener("activate",(t=>{t.waitUntil(caches.keys().then((t=>Promise.all(t.filter((t=>t.startsWith("v"))).filter((t=>t!==staticCacheName)).map((t=>caches.delete(t)))))))})),self.addEventListener("fetch",(function(t){t.respondWith(caches.match(t.request).then((function(n){if(n)return n;let e=t.request.clone();return fetch(e)})))})),self.addEventListener("push",(function(t){const n=t.data.json(),e={body:n.msg,icon:"img/icon.png",badge:"img/icon.png",data:{url:n.link}};void 0!==n.img&&(e.image=n.img),t.waitUntil(self.registration.showNotification(n.title,e))})),self.addEventListener("notificationclick",(function(t){t.notification.close(),t.waitUntil(clients.matchAll({type:"window"}).then((function(n){for(let e=0;e<n.length;e++){let i=n[e];if(i.url==t.notification.data.url&&"focus"in i)return i.focus()}if(clients.openWindow)return clients.openWindow("https://ofertas.leone.tec.br"+t.notification.data.url)})))}));
